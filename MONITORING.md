# Мониторинг обучения InnerArianna

## Быстрая проверка статуса

```bash
./quick_check.sh
```

Покажет:
- Запущен ли процесс обучения
- Текущую итерацию и loss
- Сколько времени осталось
- Размер модели

## Тестирование модели

### Быстрый тест с промптом по умолчанию:
```bash
./test_model.sh
```

### Тест с кастомным промптом:
```bash
./test_model.sh out/model.bin data/tok4096.bin "Объясни концепцию поля"
```

### Интерактивный чат:
```bash
python3 chat_advanced.py out/model.bin -z data/tok4096.bin
```

## Проверка прогресса вручную

```bash
# Текущая итерация и loss
python3 -c "import torch; ckpt = torch.load('out/ckpt.pt', map_location='cpu'); print(f'Итерация: {ckpt[\"iter_num\"]}, Loss: {ckpt[\"best_val_loss\"]:.4f}')"

# Процесс обучения
ps aux | grep train_arianna

# Последние логи (если есть)
tail -20 training.log
```

## Когда модель обновляется

Модель сохраняется каждые 500 итераций:
- Итерация 500 → `out/model.bin` обновлен
- Итерация 1000 → `out/model.bin` обновлен
- Итерация 1500 → `out/model.bin` обновлен
- И т.д.

Можно тестировать модель в любой момент - она всегда актуальная!

## Примерные временные метки

При скорости ~3 итерации/минуту:
- 1000 итераций → сейчас (loss ~4.7)
- 1500 итераций → через ~3 часа (loss ~4.2-4.3)
- 2000 итераций → через ~6 часов (loss ~3.8-4.0)
- 2500 итераций → через ~9 часов (loss ~3.5-3.7)
- 5000 итераций → через ~22 часа (loss ~2.5-3.0)

## Остановка обучения

Если нужно остановить:
```bash
# Найти PID
ps aux | grep train_arianna

# Остановить
kill <PID>
```

Модель сохранится в последнем checkpoint, можно продолжить позже с `--init_from=resume`.

